{% load custom_filters %}

<table class="datatable">
	<caption class="caption">
		<div class="content">
			<h2 class="title">{{ datatable_title }}</h2>
			<div class="buttons">
				<a class="button" href={{ datatable_actions.create }}>
					<i class="fa-solid fa-plus"></i>
					Create
				</a>
			</div>
		</div>
	</caption>
	<thead class="headers">
	<tr class="line head">
		<td class="cell header">ID</td>
		{% for col in datatable_columns %}
			<td style="width: calc(100%/{{ datatable_col_length }})" class="cell header">
				{{ col.name }}
			</td>
		{% endfor %}
		<td class="cell header"></td>
	</tr>
	</thead>
	<tbody class="body">
	{% for element in datatable_data %}
		<tr class="line dataline">
			<td class="cell data id">
				<span>{{ forloop.counter }}</span>
			</td>
			{% for col in datatable_columns %}
				<td style="width: calc(100/{{ datatable_col_length }})" class="cell data">
					{% if col.key == 'credentials_password' %}
						<input type="password" readonly value={{ element|get_value:col.key }}>
					{% elif col.key == 'label' %}
						<b>{{ element|get_value:col.key }}</b>
					{% else %}
						<span>{{ element|get_value:col.key }}</span>
					{% endif %}
				</td>
			{% endfor %}
			<td class="cell data">
				<div class="buttons">
					<a href="{{ datatable_actions.edit }}/{{ element.id }}">
						<i class="fa-solid fa-pen"></i>
					</a>
					<a href={{ datatable_actions.delete }}>
						<i class="fa-solid fa-trash"></i>
					</a>
				</div>
			</td>
		</tr>
	{% endfor %}
	</tbody>
</table>
